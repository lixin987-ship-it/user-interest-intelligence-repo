<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤šç§è§£ç æ–¹æ³•æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1000px;
            margin: 30px auto;
            padding: 20px;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #0056b3;
        }
        .result {
            margin: 20px 0;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #ddd;
        }
        .success {
            background: #d4edda;
            color: #155724;
            border-color: #c3e6cb;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
            border-color: #f5c6cb;
        }
        .info {
            background: #f8f9fa;
            color: #333;
        }
        pre {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”§ å¤šç§è§£ç æ–¹æ³•æµ‹è¯•</h1>
        
        <button onclick="tryAllMethods()">ğŸš€ å°è¯•æ‰€æœ‰è§£ç æ–¹æ³•</button>
        <button onclick="tryBase64First()">ğŸ“Š å…ˆBase64ååç§»</button>
        <button onclick="tryReverseMethods()">ğŸ”„ åå‘è§£ç æ–¹æ³•</button>
        <button onclick="createWorkingConfig()">âœ¨ åˆ›å»ºå¯ç”¨é…ç½®</button>

        <div id="results"></div>
    </div>

    <script>
        // é…ç½®æ•°æ®
        const configData = `]6E3OWXxPjsrgKUzf}ryO5Q}ep\\wf5ox]6Yv\\[MsgKnw\\Z<kdV4o\\[Q3g[P|Op<z]Z8kdV8khqY|]V8me53ye6EoepIsO6Mof6EyeqQof}<kfJnwgpY|f5oyem3|PGL4OWD3OWD{O[E|][]s][fNPJ\\3]JQm]GD7\\ZMpQGD8]JL3Q}f|QGQpPWP3PJH3QJTNFpgzgF34OmHNdKU3fKP9O|<mf58pO[Qsepg4eJI|d[U8OZIy\\Znw]ZI}gKY}Pl8yfJYx\\Znx\\[s4fpXx\\5<wO5<z]Z8kdV<|][Qze58}][P2\\[EsO[]ofqQse57<PmD|QV3zQF3zPV4zfpY5dZY6FmEpQJUm\\5TzRJIl]mTzRZUlQGf6PmT}]mH}QGEkQGUnFjsqfKTwQTsrgKUzf}ryO5Q}ep\\wf5ox]6Yv\\[MsgKnw\\Z<kdV4o\\[Q3g[P|Op<z]Z8kdV8khqY|]V8me53ye6EoepIsO5UofJ{yhZ4oeqU}O5gzgF34O5Qr\\[Ty\\5<wfJ{ogJoyeqP2\\[EsO[]ofqQse57<PmD|QV3zPV3zPV4zfpY5dZY6FmEpQJUm\\5TzRJIl]mTzRZUlQGf6PmT}]mH}QGEkQGUnFjsyQF4wdZ8sFpk3gKE}Rl;y\\6Qx]l4}dZ8qgZ{kfpo3hV4ke5IsOZYkf6U4f}Lxe6EoepIsOpI9g[MoOpQyeV<yfJYx\\Znny]JYzeJ<8eZYxgKPye}TweZoxdV<mdJI3O5Qye[Ev][Use58}S5IzdV45][M}dZ<xSWLzPmXwPGHwPGHwfKMogpoogzrz]mUn\\5QnPGkk\\p\\3PGon\\mT6Q}L3P5\\{P}Tz\\WT3]DrNe}HweZoxdTsrgKUzf}ryO5Q}ep\\wf5ox]6Yv\\[MsgKnw\\Z<kdV4o\\[Q3g[P|Op<z]Z8kdV8khqY|]V8me53ye6EoepIsO5UofJ{yhZ4oeqU}O5;{OZ4sepny\\5kkgF<me54zeJY3dZ<xf}<kfJnwgpY|f5oyem3|PGL4OWD{OWD{O[E|][]s][f@`;

        function tryAllMethods() {
            const resultsDiv = document.getElementById('results');
            let results = '<h2>ğŸ” æ‰€æœ‰è§£ç æ–¹æ³•æµ‹è¯•ç»“æœ</h2>';
            
            // æ–¹æ³•1-10: ä¸åŒåç§»é‡çš„ç›´æ¥å­—ç¬¦åç§»
            for (let offset = -10; offset <= 10; offset++) {
                if (offset === 0) continue;
                
                try {
                    let decoded = '';
                    for (let i = 0; i < configData.length; i++) {
                        decoded += String.fromCharCode(configData.charCodeAt(i) + offset);
                    }
                    
                    const hasConfig = decoded.includes('model') || decoded.includes('endpoint') || decoded.includes('api');
                    const isReadable = /[a-zA-Z]{5,}/.test(decoded);
                    
                    results += `
                        <div class="result ${hasConfig ? 'success' : (isReadable ? 'info' : 'error')}">
                            <h4>æ–¹æ³•: å­—ç¬¦åç§»${offset > 0 ? '+' : ''}${offset}</h4>
                            <p><strong>åŒ…å«é…ç½®å…³é”®è¯:</strong> ${hasConfig ? 'æ˜¯' : 'å¦'}</p>
                            <p><strong>å¯è¯»æ€§:</strong> ${isReadable ? 'è‰¯å¥½' : 'å·®'}</p>
                            <p><strong>å‰100å­—ç¬¦:</strong></p>
                            <pre>${decoded.substring(0, 100)}</pre>
                        </div>
                    `;
                    
                    if (hasConfig) {
                        console.log(`âœ“ æ–¹æ³•æˆåŠŸ: å­—ç¬¦åç§»${offset}`, decoded);
                        window.successfulDecode = decoded;
                        window.successfulMethod = `å­—ç¬¦åç§»${offset}`;
                    }
                    
                } catch (e) {
                    results += `
                        <div class="result error">
                            <h4>æ–¹æ³•: å­—ç¬¦åç§»${offset > 0 ? '+' : ''}${offset}</h4>
                            <p><strong>é”™è¯¯:</strong> ${e.message}</p>
                        </div>
                    `;
                }
            }
            
            resultsDiv.innerHTML = results;
        }

        function tryBase64First() {
            const resultsDiv = document.getElementById('results');
            let results = '<h2>ğŸ“Š Base64ä¼˜å…ˆè§£ç æµ‹è¯•</h2>';
            
            // å°è¯•ä¿®å¤Base64æ ¼å¼
            const cleanMethods = [
                { name: 'ç§»é™¤ç‰¹æ®Šå­—ç¬¦', fn: str => str.replace(/[^A-Za-z0-9+/=]/g, '') },
                { name: 'æ›¿æ¢å¸¸è§å­—ç¬¦', fn: str => str.replace(/\\\\/g, '').replace(/[{}|<>]/g, '').replace(/\\[/g, '[').replace(/\\]/g, ']') },
                { name: 'ä¿ç•™å­—æ¯æ•°å­—', fn: str => str.replace(/[^A-Za-z0-9]/g, '') }
            ];
            
            cleanMethods.forEach(method => {
                try {
                    let cleanData = method.fn(configData);
                    
                    // è¡¥é½Base64å¡«å……
                    while (cleanData.length % 4 !== 0) {
                        cleanData += '=';
                    }
                    
                    const base64Decoded = atob(cleanData);
                    
                    // å°è¯•ä¸åŒåç§»é‡
                    for (let offset = -5; offset <= 5; offset++) {
                        if (offset === 0) continue;
                        
                        try {
                            let decoded = '';
                            for (let i = 0; i < base64Decoded.length; i++) {
                                decoded += String.fromCharCode(base64Decoded.charCodeAt(i) + offset);
                            }
                            
                            const hasConfig = decoded.includes('model') || decoded.includes('endpoint') || decoded.includes('api');
                            
                            results += `
                                <div class="result ${hasConfig ? 'success' : 'info'}">
                                    <h4>${method.name} + åç§»${offset > 0 ? '+' : ''}${offset}</h4>
                                    <p><strong>æ¸…ç†åé•¿åº¦:</strong> ${cleanData.length}</p>
                                    <p><strong>Base64è§£ç é•¿åº¦:</strong> ${base64Decoded.length}</p>
                                    <p><strong>åŒ…å«é…ç½®:</strong> ${hasConfig ? 'æ˜¯' : 'å¦'}</p>
                                    <p><strong>å‰100å­—ç¬¦:</strong></p>
                                    <pre>${decoded.substring(0, 100)}</pre>
                                </div>
                            `;
                            
                            if (hasConfig) {
                                window.successfulDecode = decoded;
                                window.successfulMethod = `${method.name} + åç§»${offset}`;
                            }
                            
                        } catch (e) {
                            // å¿½ç•¥åç§»é”™è¯¯
                        }
                    }
                    
                } catch (e) {
                    results += `
                        <div class="result error">
                            <h4>${method.name}</h4>
                            <p><strong>é”™è¯¯:</strong> ${e.message}</p>
                        </div>
                    `;
                }
            });
            
            resultsDiv.innerHTML = results;
        }

        function tryReverseMethods() {
            const resultsDiv = document.getElementById('results');
            let results = '<h2>ğŸ”„ åå‘å’Œç‰¹æ®Šè§£ç æ–¹æ³•</h2>';
            
            const methods = [
                {
                    name: 'ROT13æ›¿æ¢',
                    fn: str => str.replace(/[a-zA-Z]/g, c => 
                        String.fromCharCode((c.charCodeAt(0) - (c < 'a' ? 65 : 97) + 13) % 26 + (c < 'a' ? 65 : 97))
                    )
                },
                {
                    name: 'åè½¬å­—ç¬¦ä¸²',
                    fn: str => str.split('').reverse().join('')
                },
                {
                    name: 'XORè§£ç (key=42)',
                    fn: str => {
                        let result = '';
                        for (let i = 0; i < str.length; i++) {
                            result += String.fromCharCode(str.charCodeAt(i) ^ 42);
                        }
                        return result;
                    }
                },
                {
                    name: 'ASCIIåŠ å¯†è¡¨è½¬æ¢',
                    fn: str => {
                        // å°è¯•ç®€å•çš„ASCIIè¡¨åç§»
                        let result = '';
                        for (let i = 0; i < str.length; i++) {
                            const char = str.charCodeAt(i);
                            // å‡è®¾è¿™æ˜¯ä¸€ä¸ªç®€å•çš„å‡¯æ’’å¯†ç å˜ä½“
                            if (char >= 32 && char <= 126) {
                                result += String.fromCharCode(((char - 32 + 94 - 3) % 94) + 32);
                            } else {
                                result += str[i];
                            }
                        }
                        return result;
                    }
                }
            ];
            
            methods.forEach(method => {
                try {
                    const decoded = method.fn(configData);
                    const hasConfig = decoded.includes('model') || decoded.includes('endpoint') || decoded.includes('api');
                    const isReadable = /[a-zA-Z]{5,}/.test(decoded);
                    
                    results += `
                        <div class="result ${hasConfig ? 'success' : (isReadable ? 'info' : 'error')}">
                            <h4>${method.name}</h4>
                            <p><strong>åŒ…å«é…ç½®å…³é”®è¯:</strong> ${hasConfig ? 'æ˜¯' : 'å¦'}</p>
                            <p><strong>å¯è¯»æ€§:</strong> ${isReadable ? 'è‰¯å¥½' : 'å·®'}</p>
                            <p><strong>å‰100å­—ç¬¦:</strong></p>
                            <pre>${decoded.substring(0, 100)}</pre>
                        </div>
                    `;
                    
                    if (hasConfig) {
                        window.successfulDecode = decoded;
                        window.successfulMethod = method.name;
                    }
                    
                } catch (e) {
                    results += `
                        <div class="result error">
                            <h4>${method.name}</h4>
                            <p><strong>é”™è¯¯:</strong> ${e.message}</p>
                        </div>
                    `;
                }
            });
            
            resultsDiv.innerHTML = results;
        }

        function createWorkingConfig() {
            const resultsDiv = document.getElementById('results');
            
            // åˆ›å»ºä¸€ä¸ªå¯ç”¨çš„é…ç½®ï¼ˆä½¿ç”¨çœŸå®æ ¼å¼ï¼‰
            const workingConfig = `[model:gpt-5.2]
endpoint=https://pyparus-openai-east.openai.azure.com/openai/deployments/gpt-5-2/chat/completions?api-version=2024-02-15-preview
apiKey=YOUR_ACTUAL_API_KEY_HERE
maxTokens=4000

[model:gpt-5.1]
endpoint=https://pyparus-openai-east.openai.azure.com/openai/deployments/gpt-5-1/chat/completions?api-version=2024-02-15-preview
apiKey=YOUR_ACTUAL_API_KEY_HERE
maxTokens=4000

[model:o1-mini]
endpoint=https://pyparus-openai-east.openai.azure.com/openai/deployments/o1-mini/chat/completions?api-version=2024-02-15-preview
apiKey=YOUR_ACTUAL_API_KEY_HERE
maxTokens=2000`;
            
            // è§£æé…ç½®
            const configs = {};
            const sections = workingConfig.split('[model:').slice(1);
            
            sections.forEach(section => {
                const lines = section.split('\n').filter(line => line.trim());
                const modelName = lines[0].replace(']', '').trim();
                
                const config = {};
                lines.slice(1).forEach(line => {
                    if (line.includes('=')) {
                        const [key, value] = line.split('=').map(s => s.trim());
                        if (key && value) {
                            config[key] = value;
                        }
                    }
                });
                
                if (config.endpoint && config.apiKey) {
                    configs[modelName] = config;
                }
            });
            
            // ä¿å­˜åˆ°å…¨å±€å˜é‡
            window.workingConfigs = configs;
            
            resultsDiv.innerHTML = `
                <div class="result success">
                    <h2>âœ¨ åˆ›å»ºå¯ç”¨é…ç½®å®Œæˆ</h2>
                    <p><strong>æˆåŠŸåˆ›å»ºæ¨¡å‹æ•°:</strong> ${Object.keys(configs).length}</p>
                    <p><strong>å¯ç”¨æ¨¡å‹:</strong> ${Object.keys(configs).join(', ')}</p>
                    <p><strong>æ³¨æ„:</strong> éœ€è¦æ›¿æ¢çœŸå®çš„APIå¯†é’¥</p>
                    
                    <h3>å®Œæ•´é…ç½®:</h3>
                    <pre>${workingConfig}</pre>
                    
                    <button onclick="generateFixedTool()" style="background: #28a745; margin-top: 15px;">
                        ğŸ”§ ç”Ÿæˆä¿®å¤åçš„APIå·¥å…·
                    </button>
                </div>
            `;
        }

        function generateFixedTool() {
            // è¿™å°†åˆ›å»ºä¸€ä¸ªä½¿ç”¨å·¥ä½œé…ç½®çš„APIæµ‹è¯•å·¥å…·
            alert('å‡†å¤‡ç”Ÿæˆä¿®å¤åçš„APIå·¥å…·ï¼\\n\\nè¯·æä¾›çœŸå®çš„APIå¯†é’¥ä»¥æ›¿æ¢é…ç½®ä¸­çš„å ä½ç¬¦ã€‚');
        }

        console.log('å¤šç§è§£ç æ–¹æ³•æµ‹è¯•å·¥å…·åŠ è½½å®Œæˆ');
    </script>
</body>
</html>